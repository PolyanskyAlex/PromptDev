# CLI API

## Обзор

Приложение представляет собой CLI утилиту, написанную на Go, которая принимает следующие флаги:

- `-input` (обязательный) - путь к входному JSON файлу
- `-output` (обязательный) - путь к выходной директории
- `-force` (опциональный) - флаг для принудительной перезаписи существующих файлов

## Использование

```bash
./parse-plan -input path/to/input.json -output path/to/output/dir [-force]
```

## Обработка ошибок

- Если не указан флаг `-input` или `-output`, программа завершится с ошибкой
- Все ошибки логируются с помощью стандартного пакета `log`

## Примеры использования

### Базовое использование
```bash
./parse-plan -input ./plan.json -output ./project
```

### Принудительная перезапись файлов
```bash
./parse-plan -input ./plan.json -output ./project -force
```

### Использование с абсолютными путями
```bash
./parse-plan -input /path/to/plan.json -output /path/to/project
```

## Коды возврата

- `0` - успешное выполнение
- `1` - ошибка в аргументах командной строки
- `2` - ошибка при чтении входного файла
- `3` - ошибка при парсинге JSON
- `4` - ошибка при записи файлов
- `5` - другие ошибки

## Безопасность

- Все пути проверяются на Path Traversal атаки
- Перед записью проверяется, что результирующий путь является дочерним по отношению к --output директории
- При работе с существующими файлами без флага -force, операция прерывается 