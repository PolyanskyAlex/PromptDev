Архитектура и Руководство по Системе Правил AI-Агента

1. Введение
Этот документ — ваш путеводитель по системе правил, которая управляет работой AI-агента в данном проекте. Цель этой системы — максимально автоматизировать жизненный цикл разработки: от анализа единого JSON-манифеста до генерации готовой к работе структуры проекта.
Понимание этой архитектуры позволит вам эффективно запускать и контролировать проекты, минимизируя ручные операции.

2. Ключевая философия
Единый источник правды (JSON-манифест): Вся информация о проекте (архитектура, планы, задачи) содержится в одном мастер-документе — project_docs/ai_executable_plan.json. Этот формат выбран для максимальной надежности и простоты автоматического парсинга.
Автономный запуск: Процесс инициализации проекта запускается одной простой командой. AI-агент самостоятельно оркестрирует все необходимые шаги.
Скрипты для рутины: Задача по разбору JSON-манифеста и созданию множества файлов делегирована специализированному системному скрипту. Это обеспечивает 100% надежность парсинга.
Правила для исполнения: Файлы .mdc используются AI-агентом уже после инициализации — как набор инструкций и стандартов для выполнения конкретных задач (кодирования, тестирования, деплоя).

3. Архитектурная схема рабочего процесса
Весь процесс инициализации проекта представляет собой автоматизированный пайплайн, запускаемый одной командой.

+----------------------------------------------------------+
|            ПОЛЬЗОВАТЕЛЬ (Ваши действия)                  |
+----------------------------------------------------------+
     |
     | 1. Создает/предоставляет JSON-манифест:
     |    `project_docs/ai_executable_plan.json`
     |
     | 2. Дает одну команду AI-агенту:
     |    "подготовь проект по документу ai_executable_plan.json"
     V

+----------------------------------------------------------+
|               AI-АГЕНТ (Что происходит "под капотом")    |
+----------------------------------------------------------+
     |
     | 1. Активирует главный пайплайн-оркестратор:
     |    `.cursor/rules/project_setup.mdc`
     |
     V
+----------------------------------------------------------+
|               СИСТЕМНЫЙ СКРИПТ (Исполнение)              |
|          `.cursor/scripts/parse_master_plan.js`          |
+----------------------------------------------------------+
     |
     | 1. Читает `project_docs/ai_executable_plan.json`
     | 2. Парсит JSON и создает артефакты:
     |
     +-----------------+------------------+-----------------+
     |                 |                  |                 |
     V                 V                  V                 V
+--------------+ +-------------+ +---------------+ +------------------+
| project_docs/| | project_docs/ | | project_docs/ | | tasks/dev/       |
| SAD.md       | | dev_plan.md   | | deploy_plan.md| | tasks/deploy/    |
+--------------+ +-------------+ +---------------+ | (файлы задач)    |
                                                   +------------------+
     |
     V

+----------------------------------------------------------+
|            РЕЗУЛЬТАТ (Готовый проект)                    |
+----------------------------------------------------------+
     |
     | - Вся структура файлов создана.
     | - Сделан первоначальный коммит в Git.
     | - AI-агент сообщает о готовности к выполнению задач.
     V

4. Как пользоваться системой: пошаговое руководство

Шаг 1: Подготовка мастер-документа (JSON-манифеста)
Убедитесь, что у вас есть файл ai_executable_plan.json в директории project_docs/. Этот документ должен быть валидным JSON-файлом, соответствующим схеме, описанной в "Инструкции по созданию AI-Executable Project Plan". Он должен содержать ключи: solutionArchitecture, developmentPlan, deploymentPlan и массив tasks.

Шаг 2: Запуск инициализации проекта
Откройте чат с AI-агентом в Cursor IDE и дайте одну единственную команду, указав имя JSON-файла:
подготовь проект по документу ai_executable_plan.json

Шаг 3: Наблюдение за процессом
AI-агент начнет выполнять шаги, описанные в правиле project_setup.mdc:
Проверит ваше окружение (Node.js, git, CONTEXT7_API_KEY).
Подготовит и запустит системный скрипт parse_master_plan.js.
Скрипт прочитает JSON-манифест и создаст все необходимые файлы и папки.
Агент сделает git commit со всеми сгенерированными файлами.
В конце агент отчитается об успешном завершении.

Шаг 4: Выполнение сгенерированных задач
После того как проект инициализирован, вы можете начать давать команды на выполнение конкретных задач, которые были созданы из массива tasks в вашем JSON-манифесте.

Например:
Выполни задачу 1.1.1
При выполнении этой команды AI-агент будет использовать другие правила (dev.mdc, testing.mdc, review.mdc и т.д.), чтобы написать код, протестировать его и задокументировать в соответствии с установленными стандартами.

Эта система спроектирована так, чтобы максимально упростить для вас запуск и управление проектом, переложив всю сложную и рутинную работу по инициализации и выполнению на автоматизированный пайплайн.